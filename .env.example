# Storage Configuration
STORAGE_MODE=hybrid  # azure, local, hybrid
LOCAL_STORAGE_PATH=/data/raw
LOCAL_ENABLE_CACHING=true

# Azure Configuration (required for azure/hybrid mode)
# Option 1: Using blob endpoint + SAS token (recommended)
AZURE_BLOB_ENDPOINT=  # e.g., https://archivalpipeline01.blob.core.windows.net
AZURE_SAS_TOKEN=  # SAS token starting with sv=... (do not include leading ?)
# Option 2: Using storage account + key (legacy)
AZURE_STORAGE_ACCOUNT=  # Storage account name
AZURE_STORAGE_KEY=  # Storage account key or SAS token
# Common settings
AZURE_CONTAINER_NAME=sensor-data-cold-storage
AZURE_CONNECTION_TIMEOUT=30
AZURE_RETRY_ATTEMPTS=3
AZURE_MAX_WORKERS=8

# Query Engine Configuration  
MAX_QUERY_DURATION_HOURS=168
DEFAULT_MAX_DATAPOINTS=10000
MAX_ABSOLUTE_DATAPOINTS=100000
DEFAULT_INTERVAL_MS=1000
ENABLE_SMART_AGGREGATION=true
QUERY_PARALLEL_WORKERS=4

# Cache Configuration
CACHE_ENABLED=true
CACHE_SIZE_MB=512
CACHE_TTL_SECONDS=3600
CACHE_MAX_ENTRIES=10000
REDIS_URL=  # Optional Redis backend

# Multi-tier Configuration
RAW_TIER_MAX_HOURS=24
AGGREGATED_TIER_MAX_HOURS=168
DAILY_TIER_THRESHOLD_HOURS=168

# API Configuration
API_HOST=0.0.0.0
API_PORT=8080
API_WORKERS=4
API_DEBUG=false
API_RATE_LIMIT=100/minute
CORS_ORIGINS=  # Comma-separated origins

# Logging
LOG_LEVEL=INFO

# Docker Compose
COMPOSE_PROJECT_NAME=query-service